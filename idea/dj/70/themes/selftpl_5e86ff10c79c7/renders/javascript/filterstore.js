(function($,w){'use strict';if(!w.jQuery){throw 'IdeaApp: jQuery not found'}
w.filterStore={cityList:[],townList:[],init:function(){this.buildCity();this.eventListener()},buildCity:function(){var self=this;$('[data-city]').each(function(){var dataCity=$(this).attr('data-city');if(self.cityList.indexOf(dataCity)===-1){self.cityList.push(dataCity)}});this.listToSelect(this.cityList,$('#filter-city'))},buildTown:function(){var self=this;this.townList=[];$('[data-city].chosen-city').each(function(){var dataTown=$(this).attr('data-town');if(self.townList.indexOf(dataTown)===-1){self.townList.push(dataTown)}});this.listToSelect(this.townList,$('#filter-town'))},listToSelect:function(list,element){if(element.is('#filter-town')){element.html('<option value="">İlçe Seçiniz</option>')}
for(var i=0;i<list.length;i++){element.append('<option value="'+list[i]+'">'+list[i]+'</option>')}},filterCity:function(element){var chosenCity=element.val();$('[data-city]').removeClass('chosen-city chosen-town');if(chosenCity==""){this.clearTown();return}
$('[data-city="'+chosenCity+'"]').addClass('chosen-city');this.buildTown()},clearTown:function(){$('#filter-town').html('<option value="">İlçe Seçiniz</option>')},filterTown:function(element){var chosenTown=element.val();$('[data-town]').removeClass('chosen-town');$('[data-town="'+chosenTown+'"]').addClass('chosen-town')},eventListener:function(){var self=this;$(document).on('change','#filter-city',function(){self.filterCity($(this))});$(document).on('change','#filter-town',function(){self.filterTown($(this))})}}})(jQuery,window)